<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson - QazaqStep</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>

<body>
    <nav class="navbar">
        <div class="container">
            <div class="nav-brand">
                <h1><a href="/" style="text-decoration: none; color: inherit;">QazaqStep</a></h1>
            </div>
            <ul class="nav-menu">
                <li><a href="/" data-i18n="nav_home">Home</a></li>
                <li><a href="lessons.html" data-i18n="nav_lessons">Lessons</a></li>
                <li><a href="about.html" data-i18n="nav_about">About</a></li>
            </ul>
        </div>
    </nav>

    <main class="main-content">
        <div class="container">
            <!-- Lesson Header -->
            <div class="lesson-header">
                <a href="lessons.html" class="back-link" data-i18n="lesson_back_link">‚Üê Back to Lessons</a>
                <h2 class="lesson-title" id="lessonTitle">Loading...</h2>
                <div class="lesson-meta">
                    <span class="lesson-level" id="lessonLevel">A1</span>
                    <span class="lesson-duration" id="lessonDuration">15 min</span>
                </div>
            </div>

            <!-- Progress Bar -->
            <div class="lesson-progress-section">
                <div class="lesson-progress-bar">
                    <div class="lesson-progress-fill" id="lessonProgressFill"></div>
                </div>
                <div class="lesson-stats">
                    <span><span data-i18n="lesson_stats_points">Points:</span> <strong
                            id="lessonPoints">0</strong></span>
                    <span><span data-i18n="lesson_stats_streak">Streak:</span> <strong id="lessonStreak">0
                            days</strong></span>
                </div>
            </div>

            <!-- Grammar Section -->
            <section class="lesson-section">
                <h3 class="section-heading" data-i18n="lesson_grammar_title">üìñ Grammar</h3>
                <div class="grammar-card">
                    <p class="grammar-text" id="grammarText"></p>
                    <div class="example-box">
                        <strong data-i18n="lesson_grammar_example_label">Example:</strong>
                        <p id="grammarExample"></p>
                    </div>
                </div>
            </section>

            <!-- Test Section -->
            <section class="lesson-section" id="test">
                <h3 class="section-heading" data-i18n="lesson_test_title">‚úèÔ∏è Mini Test</h3>
                <div class="test-container" id="testContainer">
                    <!-- Test questions will be loaded here -->
                </div>
                <button class="btn-primary" id="checkAnswersBtn" style="display: none;"
                    data-i18n="lesson_check_answers_btn">Check Answers</button>
                <div id="testResults" style="display: none;"></div>
            </section>

            <!-- Audio Dialogue Section -->
            <section class="lesson-section" id="audio">
                <h3 class="section-heading" data-i18n="lesson_audio_title">üéß Audio Dialogue</h3>
                <div class="audio-card">
                    <p class="shadowing-instruction">
                        <strong data-i18n="lesson_audio_instruction_strong">Shadowing Practice:</strong> <span
                            data-i18n="lesson_audio_instruction_text">Listen to the dialogue and repeat after the
                            speaker. Try to match their pronunciation and rhythm. This helps improve your speaking
                            fluency.</span>
                    </p>
                    <div class="audio-player">
                        <button class="btn-primary audio-btn" id="playAudioBtn" data-i18n="lesson_play_audio_btn">
                            ‚ñ∂Ô∏è Play Audio
                        </button>
                        <p class="audio-note" data-i18n="lesson_audio_note">Note: Audio simulation - in production, this
                            would play actual dialogue</p>
                    </div>
                </div>
            </section>

            <!-- Vocabulary Cards Section -->
            <section class="lesson-section" id="vocabulary">
                <h3 class="section-heading" data-i18n="lesson_vocabulary_title">üÉè Vocabulary Cards</h3>
                <div class="vocabulary-grid" id="vocabularyGrid">
                    <!-- Vocabulary cards will be loaded here -->
                </div>
                <p class="vocab-note" data-i18n="lesson_vocab_tip">üí° Tip: Review these cards daily using spaced
                    repetition for better retention</p>
            </section>

            <!-- Memory Game Section -->
            <section class="lesson-section" id="memoryGameSection">
                <h3 class="section-heading" data-i18n="memory_game_title">üéÆ Memory Game</h3>
                <p class="memory-game-desc" data-i18n="memory_game_desc">Find matching pairs of Kazakh words and their
                    translations!</p>
                <button class="btn-primary btn-start-game" id="startMemoryGameBtn" data-i18n="memory_game_start_btn">üéÆ
                    Start Game</button>

                <div id="memoryGameContainer" class="memory-game-container" style="display: none;">
                    <div class="memory-stats-bar">
                        <div class="memory-stat">
                            <span class="memory-stat-label" data-i18n="memory_game_timer">‚è± Time</span>
                            <span class="memory-stat-value" id="memoryTimer">00:00</span>
                        </div>
                        <div class="memory-stat">
                            <span class="memory-stat-label" data-i18n="memory_game_moves">üîÑ Moves</span>
                            <span class="memory-stat-value" id="memoryMoves">0</span>
                        </div>
                        <div class="memory-stat">
                            <span class="memory-stat-label" data-i18n="memory_game_score">‚≠ê Pairs</span>
                            <span class="memory-stat-value" id="memoryScore">0/0</span>
                        </div>
                    </div>

                    <div class="memory-game-grid" id="memoryGameGrid">
                        <!-- Cards will be inserted here by JS -->
                    </div>

                    <button class="btn-secondary memory-restart-btn" id="memoryRestartBtn"
                        data-i18n="memory_game_restart">üîÑ Restart</button>
                </div>

                <div id="memoryResults" class="memory-results-overlay" style="display: none;">
                    <!-- Results will be inserted here by JS -->
                </div>
            </section>

            <!-- Complete Lesson Button -->
            <div class="lesson-actions">
                <button class="btn-primary btn-large" id="completeLessonBtn" data-i18n="lesson_complete_btn">Complete
                    Lesson</button>
            </div>
        </div>
    </main>

    <footer class="footer">
        <div class="container">
            <p data-i18n="footer_text">&copy; 2024 QazaqStep. Research-driven language learning.</p>
        </div>
    </footer>

    <script src="js/i18n.js"></script>
    <script src="auth.js"></script>
    <script src="memory-game.js"></script>
    <script src="lesson.js"></script>
</body>

</html>